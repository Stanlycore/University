# Задача 114г: Вычислить сумму 1/(2i)^2 для i, изменяющейся от 1 до n.
__author__ = "Непомнящих Станислав"
import sys
from t114g_modul import sum_series


def print_help() -> None:
    """
    Выводит справочную информацию о программе.
    """
    help_text = (
        "Использование: python t114g.py [количество членов ряда n]\n"
        "Если параметр не указан, программа запросит ввод с клавиатуры.\n"
        "Этот скрипт вычисляет сумму ряда 1/(2i)^2, используя переданную функцию для вычисления каждого члена ряда."
    )
    print(help_text)


def main() -> None:
    if len(sys.argv) > 1 and sys.argv[1] in ("-h", "--help"):
        print_help()
        return

    if len(sys.argv) > 1:
        try:
            n = int(sys.argv[1])
        except ValueError:
            print("Неверный формат аргумента. Ожидается целое число.")
            sys.exit(1)
    else:
        n = int(input("Введите количество членов ряда (n >= 1): "))

    # Используем лямбда-функцию term, определённую в тестах
    term = lambda i: 1 / ((2 * i) ** 2)
    result = sum_series(term, n)
    print("Сумма ряда:", result)


# Объяснение:
# Конструкция 'if __name__ == "__main__": main()' гарантирует, что функция main() будет вызвана только тогда,
# когда скрипт запускается напрямую. Если модуль импортирован, код внутри этого блока не выполнится.
if __name__ == '__main__':
    main()
